---
// src/layouts/Layout.astro - Refactorizado
import SEOHead from '../components/shared/SEOHead.astro';
import Header from '../components/shared/Header.astro';
import Footer from '../components/shared/Footer.astro';
import BackToTop from '../components/shared/BackToTop.astro';

export interface Props {
  title: string;
  description: string;
  keywords?: string;
  ogImage?: string;
  ogType?: string;
  noindex?: boolean;
  structuredData?: any;
  showBackToTop?: boolean;
}

const { 
  title, 
  description, 
  keywords, 
  ogImage, 
  ogType,
  noindex,
  structuredData,
  showBackToTop = true
} = Astro.props;

// Obtener la ruta actual para el header
const currentPath = Astro.url.pathname;
---

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <SEOHead 
    title={title}
    description={description}
    keywords={keywords}
    ogImage={ogImage}
    ogType={ogType}
    noindex={noindex}
    structuredData={structuredData}
  />
</head>

<body class="bg-white text-gray-900">
  <Header currentPath={currentPath} />
  
  <main>
    <slot />
  </main>

  <Footer />
  
  {showBackToTop && <BackToTop />}
</body>
</html>